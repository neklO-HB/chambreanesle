<%- include('partials/header', { title }) %>
<section class="container section split">
  <div>
    <p class="eyebrow">Chambre</p>
    <h1><%= room.name %></h1>
    <p class="lead"><%= room.highlight %></p>
    <p><%= room.description %></p>
    <% if (room.features.length) { %>
    <ul class="tags">
      <% room.features.forEach((feature) => { %>
      <li><%= feature %></li>
      <% }) %>
    </ul>
    <% } %>
    <div class="cta">
      <a href="/reservation?roomSlug=<%= room.slug %>" class="button">Réserver</a>
      <a href="/chambres" class="button ghost">Voir les autres chambres</a>
    </div>
  </div>
  <div class="panel">
    <img src="<%= room.image %>" alt="<%= room.name %>" class="hero-image" />
    <div class="panel-content">
      <p class="muted">Tarif</p>
      <p class="price"><%= formatPrice(room.price) %> / nuit</p>
      <p class="muted">Prochaines réservations</p>
      <ul class="booking-list">
        <% if (!bookings.length) { %>
        <li><span>Aucune réservation enregistrée pour le moment.</span></li>
        <% } %>
        <% bookings.forEach((booking) => { %>
        <li>
          <strong><%= formatDate(booking.startDate) %></strong>
          <span>au <%= formatDate(booking.endDate) %> — <%= booking.guests %> pers.</span>
        </li>
        <% }) %>
      </ul>
    </div>
  </div>
</section>
<%- include('partials/footer') %>
